<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-2D Context/animation" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Images and sprite animations | Training Home</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://purusgames.com/fresher-training-doc/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://purusgames.com/fresher-training-doc/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://purusgames.com/fresher-training-doc/docs/2D Context/animation"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Images and sprite animations | Training Home"><meta data-rh="true" name="description" content="Draw your own images on the canvas and learn how to stretch, scale and rotate them. Use clipping on sprites to create sprite animations. By the end of this tutorial you can draw your own images and animations on the canvas and use them in a game."><meta data-rh="true" property="og:description" content="Draw your own images on the canvas and learn how to stretch, scale and rotate them. Use clipping on sprites to create sprite animations. By the end of this tutorial you can draw your own images and animations on the canvas and use them in a game."><link data-rh="true" rel="icon" href="/fresher-training-doc/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://purusgames.com/fresher-training-doc/docs/2D Context/animation"><link data-rh="true" rel="alternate" href="https://purusgames.com/fresher-training-doc/docs/2D Context/animation" hreflang="en"><link data-rh="true" rel="alternate" href="https://purusgames.com/fresher-training-doc/docs/2D Context/animation" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/fresher-training-doc/blog/rss.xml" title="Training Home RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/fresher-training-doc/blog/atom.xml" title="Training Home Atom Feed"><link rel="stylesheet" href="/fresher-training-doc/assets/css/styles.c7c4964a.css">
<script src="/fresher-training-doc/assets/js/runtime~main.e62f4970.js" defer="defer"></script>
<script src="/fresher-training-doc/assets/js/main.ff3ea1db.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/fresher-training-doc/"><div class="navbar__logo"><img src="/fresher-training-doc/img/logo.svg" alt="Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/fresher-training-doc/img/logo.svg" alt="Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Purus Games</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/fresher-training-doc/docs/program">Training</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fresher-training-doc/docs/program">Fresher Training Program</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/fresher-training-doc/docs/2D Context/introduction">2D Context</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fresher-training-doc/docs/2D Context/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fresher-training-doc/docs/2D Context/canvas-setup">Set-up an HTML5 canvas</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fresher-training-doc/docs/2D Context/shapes-paths-text">Draw shapes, paths and texts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fresher-training-doc/docs/2D Context/game-loop">Game Loop</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fresher-training-doc/docs/2D Context/canvas-animation">Canvas animation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fresher-training-doc/docs/2D Context/physics">Collision detection and physics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/fresher-training-doc/docs/2D Context/animation">Images and sprite animations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fresher-training-doc/docs/2D Context/make-a-game">Let&#x27;s make a game</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/fresher-training-doc/docs/WebGL/introduction">WebGL</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/fresher-training-doc/docs/PixiJS/introduction">PixiJS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/fresher-training-doc/docs/Topics/vector">Topics</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fresher-training-doc/docs/Topics/vector">Vector</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fresher-training-doc/docs/Topics/tween">Tween</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/fresher-training-doc/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">2D Context</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Images and sprite animations</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Images and sprite animations</h1></header>
<p>Draw your own images on the canvas and learn how to stretch, scale and rotate them. Use clipping on sprites to create sprite animations. By the end of this tutorial you can draw your own images and animations on the canvas and use them in a game.</p>
<blockquote>
<p>In this tutorial you&#x27;ll continue to build your HTML5 game, but first there will be a general explanation about how to draw images to the canvas and how to display sprite animations.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="get-a-reference-to-an-html-image-element">Get a reference to an HTML image element<a href="#get-a-reference-to-an-html-image-element" class="hash-link" aria-label="Direct link to Get a reference to an HTML image element" title="Direct link to Get a reference to an HTML image element">​</a></h3>
<p>Before you can start to actually draw an image on the canvas, you&#x27;ll somehow need to obtain a <strong>reference</strong> to the image you want to draw. There are multiple ways to do this, but in this first example you&#x27;re going to do it the easy way and reference an image element on a web page.</p>
<p>An <strong>image element</strong> is a HTML container for images. You can create one by using the <code>&lt;img&gt;</code> tag on a web page. You can specify a <a href="https://html.com/attributes/img-src/" target="_blank" rel="noopener noreferrer">source for the image</a> by using the <code>src</code> attribute. The browser will load the source and display the image inside the element when loaded. It&#x27;s what you would normally use to display an image on a web page. You can use the image displayed in the image element, reference it and draw it on your canvas.</p>
<p>To create your own image element, start by adding an <code>&lt;img&gt;</code> Set the <code>src</code> and <code>id</code> attributes. You can <a href="/fresher-training-doc/assets/files/animation-image-bottle-1444fef2c801e5cc6b6862bda1aa61de.png" target="_blank">download</a> the example image here.</p>
<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">img</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">myImage</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">/img/my-image.png</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <strong>id</strong> is just <a href="https://www.geeksforgeeks.org/html-id-attribute/" target="_blank" rel="noopener noreferrer">a tag to help you identify the element</a>, it doesn&#x27;t really do anything on its own. You can reference the id in your JavaScript code. Use <code>getElementById()</code> and pass the id as argument to get the element holding the image.</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> img </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getElementById</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;myImage&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <code>img</code> variable now holds a valid reference to an image element. You can use this variable to draw the image on the canvas.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="draw-an-image-on-the-canvas">Draw an image on the canvas<a href="#draw-an-image-on-the-canvas" class="hash-link" aria-label="Direct link to Draw an image on the canvas" title="Direct link to Draw an image on the canvas">​</a></h3>
<p>Drawing images on the canvas is pretty straight forward. You can simply use the <code>drawImage()</code> function on the <code>2dContext</code>.</p>
<p>The function needs a reference to an image and a position. The method header looks like this: <code>context.drawImage(img,x,y);</code> You&#x27;ve just stored your reference, so all you need is an x and y position. You can use it like this:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">drawImage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">img</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <code>img</code> variable, filled with the reference to your image element, will be drawn on the canvas. In this example it will be drawn on <em>(10, 30)</em>. It looks exactly the same as the original image in the image element.</p>
<p><img decoding="async" loading="lazy" src="/fresher-training-doc/assets/images/animation-image-element-18b96022afb90b0b09ca05be5346f7e1.png" width="266" height="322" class="img_ev3q"></p>
<blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-isnt-the-image-visible">Why isn&#x27;t the image visible?<a href="#why-isnt-the-image-visible" class="hash-link" aria-label="Direct link to Why isn&#x27;t the image visible?" title="Direct link to Why isn&#x27;t the image visible?">​</a></h3>
<p>Did you implement every step until now, but you&#x27;re not seeing an image getting drawn? Or the image is drawn, but only <em>sometimes</em>? Good chance its because you&#x27;re referencing an image element on the page that isn&#x27;t fully loaded yet.</p>
<p>It takes some time for the image element to have loaded its source. If you reference the element while the source isn&#x27;t loaded, there is nothing to draw yet. The code on the page is executed before all resources had a chance to fully load.</p>
<p>You can fix this by using the <code>window.onLoad</code> event to wait for the page and all its resources to load completely, before referencing and drawing an image element to the canvas. This way you can be sure the image element and the image itself are both present on the page, ready for you to reference it for drawing.</p>
<p>You can implement the <code>onLoad</code> event by setting a function to serve as <a href="https://eloquentjavascript.net/15_event.html" target="_blank" rel="noopener noreferrer">event handler</a>. When the event fires, the function will be triggered. Here&#x27;s an example implementation:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token dom variable" style="color:#36acaa">window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method-variable function-variable method function property-access" style="color:#d73a49">onload</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// The page is completely loaded now</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// You can reference the image element</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> img </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getElementById</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;myImage&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">drawImage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">img</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="load-an-image-from-a-url">Load an image from a URL<a href="#load-an-image-from-a-url" class="hash-link" aria-label="Direct link to Load an image from a URL" title="Direct link to Load an image from a URL">​</a></h3>
<p>You&#x27;ve just learned how to reference images inside image elements present on the page. For a game you can&#x27;t expect this to work the same. You would be able to see all images and sprites used in the game on the webpage.</p>
<p>You probably want to load images via <a href="https://www.computerhope.com/jargon/u/url.htm" target="_blank" rel="noopener noreferrer">a URL</a>, without them ever having been visible to the user. You can load an image from an URL with JavaScript by defining a new <code>Image</code> object and setting its <code>src</code> property. Use the <code>onload</code> event on the image to start drawing when the image source has loaded.</p>
<p>Here&#x27;s a simple implementation that draws <em>yourimage.png</em> on (10, 10) on the canvas as soon as it&#x27;s loaded:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> img </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Image</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">img</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method-variable function-variable method function property-access" style="color:#d73a49">onload</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">drawImage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">img</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">img</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">src</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;https://www.linktoyourimage.com/yourimage.png&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="resize-an-image">Resize an image<a href="#resize-an-image" class="hash-link" aria-label="Direct link to Resize an image" title="Direct link to Resize an image">​</a></h3>
<p>With the <code>drawImage()</code> method you can easily <strong>stretch and scale</strong> images. Just add <em>width</em> and <em>height</em> to the existing arguments of the function call, like so: <code>context.drawImage(img,x,y,width,height);</code></p>
<p>Here&#x27;s an example that stretches the image from before to a size of <em>100x200</em>.</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">drawImage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">img</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="/fresher-training-doc/assets/images/animation-image-stretch-f3f3dd74364b9f91ff59b587ac4411be.png" width="182" height="324" class="img_ev3q"></p>
<p>As you can see, the ratio of the image is changed. The image looks deformed now.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="scale-while-preserving-the-image-ratio">Scale while preserving the image ratio<a href="#scale-while-preserving-the-image-ratio" class="hash-link" aria-label="Direct link to Scale while preserving the image ratio" title="Direct link to Scale while preserving the image ratio">​</a></h3>
<p>To resize the image but keep the <a href="https://www.shutterstock.com/blog/common-aspect-ratios-photo-image-sizes" target="_blank" rel="noopener noreferrer">aspect ratio of the image</a> the same, you can use the <code>width</code> and <code>height</code> properties of the image.</p>
<p>In the next example the image is made twice as small as the original:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">drawImage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">img</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> img</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">width</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> img</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">height</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Here&#x27;s the result, with the original image displayed next to it.</p>
<p><img decoding="async" loading="lazy" src="/fresher-training-doc/assets/images/animation-image-ratio-cc73ce9f9ebb7c277862b35fa7d88cf0.png" width="430" height="326" class="img_ev3q"></p>
<p>The image is scaled, but no longer deformed. The aspect ratio is maintained and is the same as that of the original image. Just keep in mind you need to scale the <em>width</em> and <em>height</em> by the same amount if you want to preserve the aspect ratio of an image.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-fix-scaling-artifacts">How to fix scaling artifacts?<a href="#how-to-fix-scaling-artifacts" class="hash-link" aria-label="Direct link to How to fix scaling artifacts?" title="Direct link to How to fix scaling artifacts?">​</a></h3>
<p>When scaling an image beyond (or below) its original size you might notice some quality issues. You can see <strong>jagged edges</strong> or other scaling artifacts. Smoothing can help fix this problem and make a scaled image look better.</p>
<p>By default, <strong>image smoothing</strong> is enabled on the canvas. You can manually toggle the smoothing with the <code>imageSmoothingEnabled</code> <a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/imageSmoothingEnabled" target="_blank" rel="noopener noreferrer">property on the context</a>. You even have a say in the <strong>smoothing quality</strong>. You can set <code>imageSmoothingQuality</code> to <code>&#x27;low&#x27;</code>, <code>&#x27;medium&#x27;</code> or <code>&#x27;high&#x27;</code>, although this option isn&#x27;t supported by all browsers. Just keep in mind, enabling smoothing or setting it to a high smoothing quality can have its impact on performance.</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">imageSmoothingEnabled</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">imageSmoothingQuality</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;high&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">drawImage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">img</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> img</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">width</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> img</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">height</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Here&#x27;s a quick example. Left is the image without smoothing, right is smoothed. You can clearly see the difference when looking at the edges.</p>
<p><img decoding="async" loading="lazy" src="/fresher-training-doc/assets/images/animation-image-smooth-eae4d97e740cad58441a948f2f4565ff.png" width="818" height="326" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="draw-only-a-part-of-an-image">Draw only a part of an image<a href="#draw-only-a-part-of-an-image" class="hash-link" aria-label="Direct link to Draw only a part of an image" title="Direct link to Draw only a part of an image">​</a></h3>
<p>Sometimes you only want to draw a small part of the original image. Leaving out a part of the source image is called <strong>clipping</strong>. The <code>drawImage()</code> function can be extended to support clipping. All you need to do is add a few extra arguments.</p>
<p>First you define the <strong>source rectangle</strong> of the image, then you define the <strong>destination rectangle</strong>. The method header looks like this <code>context.drawImage(img,sx,sy,swidth,sheight,x,y,width,height);</code>. Here&#x27;s an example implementation:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">drawImage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">img</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In the example a fragment of the image is picked from (<em>100, 0</em>), with a width of <em>200</em> and height of <em>50</em>. The fragment is drawn to (<em>10, 30</em>), with the same width and height as the source. The result will look like this:</p>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,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" width="234" height="219" class="img_ev3q"></p>
<p>A small part of the source image is drawn. The rest of the image is clipped.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="clip-and-resize-simultaneously">Clip and resize simultaneously<a href="#clip-and-resize-simultaneously" class="hash-link" aria-label="Direct link to Clip and resize simultaneously" title="Direct link to Clip and resize simultaneously">​</a></h3>
<p>If you selected a source rectangle for the <code>drawImage()</code> function that is smaller or larger than the destination, the image is scaled or stretched.</p>
<p>In the next example the destination rectangle is twice the size of the source rectangle. The size of the clipped source is <em>200x50</em>, while the size of the destination is <em>400x100</em>. The image is clipped and scaled at the same time.</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">drawImage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">img</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">400</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="/fresher-training-doc/assets/images/animation-image-clipping-2-3bf9789cfa6f0041173edac228f83545.png" width="308" height="308" class="img_ev3q"></p>
<p>As you can see the image is now clipped and drawn twice the size of the previous example.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="use-clipping-with-sprites">Use clipping with sprites<a href="#use-clipping-with-sprites" class="hash-link" aria-label="Direct link to Use clipping with sprites" title="Direct link to Use clipping with sprites">​</a></h3>
<p>You can use the technique of clipping to display images from <a href="https://www.codeandweb.com/texturepacker/tutorials/how-to-create-a-sprite-sheet" target="_blank" rel="noopener noreferrer">sprite sheets</a>. <strong>Sprites</strong> are collections of images, all merged together on the same source image. It is a technique most commonly used in games to store animations or a set of <a href="https://conceptdevelopmentbendavis.blogspot.com/2009/02/what-are-game-assets.html" target="_blank" rel="noopener noreferrer">assets</a> in a <strong>single image file</strong>.</p>
<p>Here&#x27;s an example sprite image, containing 10 frames of an animation:</p>
<p><img decoding="async" loading="lazy" src="/fresher-training-doc/assets/images/animation-spritesheet-2c6a21ff9e56537efda847489bf4280d.png" width="250" height="122" class="img_ev3q"></p>
<p>It&#x27;s one image, but it consists of many smaller images merged together. Every sub image can be seen as a <strong>frame</strong>. In the example, you see the potion bottle change color a little bit more, every frame. Multiple animation frames can be packed together in one single image this way.</p>
<p>Let&#x27;s say you want to display the ninth image from the example sprite. You&#x27;ll need to know it&#x27;s coordinates first. With sprite animations, it is most common to use the same width and height for every frame inside the sprite. So to display a single image simply keep track of the column and row and multiply it by the width or height of the frame.</p>
<p>Here&#x27;s an example implementation of how to display the ninth frame from inside the sprite (that&#x27;s the fourth column, second row):</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Define the size of a frame</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> frameWidth </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> frameHeight </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">61</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Rows and columns start from 0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> row </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> column </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">drawImage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sprite</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> column</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">frameWidth</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> row</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">frameHeight</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> frameWidth</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> frameHeight</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> frameWidth</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> frameHeight</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>It will cut out and display only the desired potion bottle. It will look like this:</p>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,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" width="337" height="325" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-sprite-animation">Create a sprite animation<a href="#create-a-sprite-animation" class="hash-link" aria-label="Direct link to Create a sprite animation" title="Direct link to Create a sprite animation">​</a></h3>
<p>In the previous example you&#x27;ve drawn only one image to the canvas. But if you want to create an animation from the sprite, you&#x27;ll need to display a lot more frames, at a high interval.</p>
<p>To achieve this, you basically keep changing the coordinates of the source rectangle of the sprite image. Draw new images fast enough and you&#x27;ll have an animation.</p>
<p>Here&#x27;s an example implementation using an interval to draw a new frame 10 times per second. It&#x27;s a quick example using <strong>setInterval()</strong> to skip the hassle of having to explain the time stamp again, but of course you would normally merge this code in your game loop and work with the time that has passed between each frame (aka delta time) to decide when to pick a new sprite image.</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Define the number of columns and rows in the sprite</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> numColumns </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> numRows </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Define the size of a frame</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> frameWidth </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sprite</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">width</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> numColumns</span><span class="token punctuation" style="color:#393A34">;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> frameHeight </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sprite</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">height</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> numRows</span><span class="token punctuation" style="color:#393A34">;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// The sprite image frame starts from 0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> currentFrame </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">setInterval</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Pick a new frame</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    currentFrame</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Make the frames loop</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> maxFrame </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> numColumns </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> numRows </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">currentFrame </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> maxFrame</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        currentFrame </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Update rows and columns</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> column </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> currentFrame </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> numColumns</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> row </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">floor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">currentFrame </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> numColumns</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Clear and draw</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">clearRect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> canvas</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">width</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> canvas</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">height</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">drawImage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sprite</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> column </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> frameWidth</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> row </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> frameHeight</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> frameWidth</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> frameHeight</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> frameWidth</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> frameHeight</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//Wait for next step in the loop</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="/fresher-training-doc/assets/images/animation-interval-dcccec3b2cdad70754d753896a76c0c4.gif" width="170" height="162" class="img_ev3q"></p>
<p>Multiple frames of a sprite are drawn in quick succession. The result is an animation of the potion bottle changing color. It&#x27;s a very basic example to give you a general idea. You can apply the same principles to more complex animation sprites.</p>
<blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="where-to-get-sprites">Where to get sprites?<a href="#where-to-get-sprites" class="hash-link" aria-label="Direct link to Where to get sprites?" title="Direct link to Where to get sprites?">​</a></h3>
<p>On the web you can find <a href="https://www.gameart2d.com/" target="_blank" rel="noopener noreferrer">royalty free game assets</a>, including sprite sheets. You can try to apply this tutorial on them and create your own animation. You can even take it a step further and <a href="https://atomisystems.com/html5-animation/saola-animate-2/create-sprite-sheet-animation-saola-animate/" target="_blank" rel="noopener noreferrer">create an animation sprite sheet</a> of your own.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-do-you-apply-this-to-your-game">How do you apply this to your game?<a href="#how-do-you-apply-this-to-your-game" class="hash-link" aria-label="Direct link to How do you apply this to your game?" title="Direct link to How do you apply this to your game?">​</a></h3>
<p>Drawing a single image is fun, but a game needs many more instances. In the previous tutorial you&#x27;ve implemented physics for your game. If you apply the knowledge about sprites to the last game example, you can create something a bit more game-like.</p>
<p>In the old example, simple circles are drawn to the canvas. Let&#x27;s replace them with an actual image. And remember the collisions? For every collision, the image will take the next frame of the sprite. Here&#x27;s what you&#x27;ll get:</p>
<p><img decoding="async" loading="lazy" src="/fresher-training-doc/assets/images/animation-collision-1c4387b1902a3c3e0b1f0e546a440466.gif" width="600" height="329" class="img_ev3q"></p>
<p>Colliding potions that change color? This is one weird example, but hopefully it helps to demonstrate a more practical use of sprites. Adding images makes it look more like an actual game. To achieve this example, you&#x27;ll need to take the next steps:</p>
<ul>
<li>Load the desired image (not more than once)</li>
<li>Update the current animation frame for every collision</li>
<li>Draw the right section of the sprite in the <code>draw()</code> function</li>
</ul>
<p>Your <code>Circle</code> class will look something like this:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Circle</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">GameObject</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Define the number of columns and rows in the sprite</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> numColumns </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> numRows </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> frameWidth </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> frameHeight </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> sprite</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">constructor</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">context</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> x</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> y</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> vx</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> vy</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> mass</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Pass params to super class</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">super</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> vx</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> vy</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> mass</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Set the size of the hitbox</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">radius</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Supply the sprite. Only load it once and reuse it</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">loadImage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">loadImage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Check for an existing image</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token maybe-class-name">Circle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">sprite</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// No image found, create a new element</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token maybe-class-name">Circle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">sprite</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Image</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// Handle a successful load</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token maybe-class-name">Circle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">sprite</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method-variable function-variable method function property-access" style="color:#d73a49">onload</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic">// Define the size of a frame</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token maybe-class-name">Circle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">frameWidth</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Circle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">sprite</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">width</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token maybe-class-name">Circle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">numColumns</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token maybe-class-name">Circle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">frameHeight</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Circle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">sprite</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">height</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token maybe-class-name">Circle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">numRows</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// Start loading the image</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token maybe-class-name">Circle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">sprite</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">src</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;/path-to/your-sprite-image.png&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">draw</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Limit the maximum frame</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> maxFrame </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Circle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">numColumns</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token maybe-class-name">Circle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">numRows</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">currentFrame</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> maxFrame</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">currentFrame</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> maxFrame</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Update rows and columns</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> column </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">currentFrame</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> </span><span class="token maybe-class-name">Circle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">numColumns</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> row </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">floor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">currentFrame</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token maybe-class-name">Circle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">numColumns</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Draw the image</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">drawImage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">Circle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">sprite</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> column </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token maybe-class-name">Circle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">frameWidth</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> row </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token maybe-class-name">Circle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">frameHeight</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">Circle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">frameWidth</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">Circle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">frameHeight</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">x</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">radius</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">y</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">radius</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">radius</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">radius</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">radius</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2.42</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">handleCollision</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Pick the next frame of the animation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">currentFrame</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">update</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">secondsPassed</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Move with velocity x/y</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">x</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">vx</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> secondsPassed</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">y</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">vy</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> secondsPassed</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="practical-use-of-hitboxes">Practical use of hitboxes<a href="#practical-use-of-hitboxes" class="hash-link" aria-label="Direct link to Practical use of hitboxes" title="Direct link to Practical use of hitboxes">​</a></h3>
<p>As you can notice in the code of the previous example, there is a small offset in the drawing position of the image. It&#x27;s at the end of this line:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Draw the image</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">drawImage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">Circle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">sprite</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> column </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token maybe-class-name">Circle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">frameWidth</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> row </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token maybe-class-name">Circle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">frameHeight</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">Circle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">frameWidth</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">Circle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">frameHeight</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">x</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">radius</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">y</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">radius</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.42</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">radius</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">radius</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2.42</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// The y-offset is 42% of the radius. When radius = 10px, entire bottle = 20px, neck = 4.2px</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// To maintain the image aspect ratio, the height is 21% larger than the width (2.42 vs 2 times the radius)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// You can calculate it by dividing the image height by image width. You could automate it further.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The offset is there to make sure the body of the potion bottle exactly covers the circle used for <strong>collision detection</strong>. The image below illustrates the difference between using the offset (on the left) and just keeping the hitbox centered (on the right).</p>
<p><img decoding="async" loading="lazy" src="/fresher-training-doc/assets/images/animation-hitbox-fb78224b1b718fcec518d0891cbde803.png" width="750" height="300" class="img_ev3q"></p>
<p>As explained in the previous tutorial, many games use this method of using a simple shape (a circle in this case) as a hitbox for a more complex one (the potion bottle, with an irregular round shape). There is a small flaw however. The neck of the bottle doesn&#x27;t trigger a collision because it has no hitbox, it sticks out of the circle. If that&#x27;s a problem for your game, try to use a different or more complex hitbox. Maybe a rectangle shape or perhaps a combination of a rectangle and a circle.</p>
<p>You can always draw the hitbox on screen to see how you&#x27;re doing:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">beginPath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">arc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">y</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">radius</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">PI</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">fill</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="rotating-images-on-the-canvas">Rotating images on the canvas<a href="#rotating-images-on-the-canvas" class="hash-link" aria-label="Direct link to Rotating images on the canvas" title="Direct link to Rotating images on the canvas">​</a></h3>
<p>The use of sprites in the last game example made things look better, but the movement of the items isn&#x27;t very realistic. The image orientation stays the same, no matter the direction of the objects. It would be more natural if the orientation matches the direction.</p>
<p>You can achieve this effect by rotating images on the canvas. To start rotating, you&#x27;ll first need to use the speed of the object to calculate the angle of rotation. You can do this in your <code>update()</code> function, and keep the angle of objects up-to-date automatically. Here&#x27;s an example:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">update</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">secondsPassed</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Move with velocity x/y</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">x</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">vx</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> secondsPassed</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">y</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">vy</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> secondsPassed</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Calculate the angle</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> radians </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">atan2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">vy</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">vx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">angle</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">180</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> radians </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">PI</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>When you have the angle, you&#x27;ll need to make some small adjustments to the <code>draw()</code> function in the <code>Circle</code> class. Replace the single line with the original call to <code>drawImage()</code> with this block of code:</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Set the origin to the center of the circle, rotate the context, move the origin back</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">translate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">y</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">rotate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">PI</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">180</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">angle</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">90</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">translate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">-</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">y</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Draw the image, rotated</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">drawImage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">Circle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">image</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">column</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token maybe-class-name">Circle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">frameWidth</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">row</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token maybe-class-name">Circle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">frameHeight</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">Circle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">frameWidth</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">Circle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">frameHeight</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">x</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">radius</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">y</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">radius</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">radius</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">radius</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">radius</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2.42</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Reset transformation matrix</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setTransform</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Let&#x27;s explain this some more. You can change the way items are drawn to the canvas by setting a <strong>transformation matrix</strong>. It&#x27;s basically a sort of filter that&#x27;s applied to every <strong>drawing operation</strong>. There are multiple functions to help you manipulate it. The one you need right now to add a rotation to the matrix is the <code>rotate()</code> function. But using it will apply a rotation around the <strong>top left corner</strong> and this will make the image position to be off.</p>
<p>To correct way of doing this is by adding a rotation around the <strong>center of the image</strong>. You need to manually set the <strong>pivot point</strong> to make this happen. This can be done by calling the <code>translate()</code> function before doing the rotation.</p>
<p>You can think of it as a way to move the canvas so the <strong>origin</strong> of the x and y axis is placed in the center of the image you want to rotate. When you rotate now, the image will rotate around its own center. After that, the canvas is translated back to its original position. The origin is now back to (<em>0,0</em>) and the transformation matrix contains a rotation. That&#x27;s all happening in the first tree lines of the code block.</p>
<blockquote>
<p>Rotating an image around its center point
<img decoding="async" loading="lazy" src="/fresher-training-doc/assets/images/animation-rotate-1a63a0cd22311e3bfcfea64565f6e058.png" width="750" height="323" class="img_ev3q">
The image above visualizes the rotating process. It consists of 4 steps.</p>
<ul>
<li><strong>Step 1</strong> - Use the original transformation matrix. The image will be drawn at the origin.</li>
<li><strong>Step 2</strong> - Add a translation to the matrix. It will align the image center directly with the origin.</li>
<li><strong>Step 3</strong> - Add a rotation to the matrix. The image will be rotated with the origin as pivot point.</li>
<li><strong>Step 4</strong> - Revert the translation. The image will be drawn on its original position, but rotated this time.</li>
</ul>
</blockquote>
<p>After that, you can draw an image like you&#x27;re used to. Only this time the matrix will change the output. It doesn&#x27;t matter if the image is clipped or not, it even works for the animation sprites.</p>
<p>When you&#x27;re done drawing, the context needs to be <strong>restored</strong>. Otherwise, it will stay in rotated position and every next draw to the canvas will be rotated too. That&#x27;s where <code>setTransform()</code> comes in.</p>
<p>In this case, it&#x27;s used to nullify the <strong>transformation matrix</strong>  the rotation and restores the matrix to its original state. As an alternative, you can also sandwich the code between <code>context.save()</code> and <code>context.restore()</code> calls, but <code>setTransform()</code> performs <a href="https://stackoverflow.com/questions/38069462/html5-canvas-save-and-restore-performance/38079796" target="_blank" rel="noopener noreferrer">way better</a> for this example.</p>
<p>This is what you get when you run the code. It&#x27;s a more natural view of the moving objects!</p>
<p><img decoding="async" loading="lazy" src="/fresher-training-doc/assets/images/animation-rotation-b59e5d0ba68d714131bf0f85d3ddbc75.gif" width="600" height="336" class="img_ev3q"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/2D Context/6.animation.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/fresher-training-doc/docs/2D Context/physics"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Collision detection and physics</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/fresher-training-doc/docs/2D Context/make-a-game"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Let&#x27;s make a game</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#get-a-reference-to-an-html-image-element" class="table-of-contents__link toc-highlight">Get a reference to an HTML image element</a></li><li><a href="#draw-an-image-on-the-canvas" class="table-of-contents__link toc-highlight">Draw an image on the canvas</a></li><li><a href="#why-isnt-the-image-visible" class="table-of-contents__link toc-highlight">Why isn&#39;t the image visible?</a></li><li><a href="#load-an-image-from-a-url" class="table-of-contents__link toc-highlight">Load an image from a URL</a></li><li><a href="#resize-an-image" class="table-of-contents__link toc-highlight">Resize an image</a></li><li><a href="#scale-while-preserving-the-image-ratio" class="table-of-contents__link toc-highlight">Scale while preserving the image ratio</a></li><li><a href="#how-to-fix-scaling-artifacts" class="table-of-contents__link toc-highlight">How to fix scaling artifacts?</a></li><li><a href="#draw-only-a-part-of-an-image" class="table-of-contents__link toc-highlight">Draw only a part of an image</a></li><li><a href="#clip-and-resize-simultaneously" class="table-of-contents__link toc-highlight">Clip and resize simultaneously</a></li><li><a href="#use-clipping-with-sprites" class="table-of-contents__link toc-highlight">Use clipping with sprites</a></li><li><a href="#create-a-sprite-animation" class="table-of-contents__link toc-highlight">Create a sprite animation</a></li><li><a href="#where-to-get-sprites" class="table-of-contents__link toc-highlight">Where to get sprites?</a></li><li><a href="#how-do-you-apply-this-to-your-game" class="table-of-contents__link toc-highlight">How do you apply this to your game?</a></li><li><a href="#practical-use-of-hitboxes" class="table-of-contents__link toc-highlight">Practical use of hitboxes</a></li><li><a href="#rotating-images-on-the-canvas" class="table-of-contents__link toc-highlight">Rotating images on the canvas</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Purus Games, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>